<div class="container">
  <!-- サイドバー -->
  <app-sidebar></app-sidebar>

  <!-- メインコンテンツ -->
  <main class="content">
    <h1>Edit Food Item</h1>

    <form [formGroup]="foodForm" (ngSubmit)="saveFood()" class="food-form">

    <!-- Name -->
    <div class="form-group">
      <label for="name">Food Name</label>
      <input type="text" id="name" formControlName="name" placeholder="Enter food name" />
      @if (foodForm.get('name')?.touched && foodForm.get('name')?.invalid) {
        <small class="error">Name is required</small>
      }
    </div>

    <!-- Quantity -->
    <div class="form-group">
      <label for="qty">Quantity</label>
      <input type="number" id="qty" formControlName="qty" placeholder="Enter quantity" />
      @if (foodForm.get('qty')?.touched && foodForm.get('qty')?.invalid) {
        <small class="error">Quantity must be at least 1</small>
      }
    </div>

    <!-- Expiry -->
    <div class="form-group">
      <label for="expiry">Expiry Date</label>
      <input type="date" id="expiry" formControlName="expiry" />
      @if (foodForm.get('expiry')?.touched && foodForm.get('expiry')?.invalid) {
        <small class="error">Expiry date is required</small>
      }
    </div>

    <!-- Category -->
    <div class="form-group">
      <label for="category">Category</label>
      <input type="text" id="category" formControlName="category" placeholder="e.g. Dairy, Grains" />
      @if (foodForm.get('category')?.touched && foodForm.get('category')?.invalid) {
        <small class="error">Category is required</small>
      }
    </div>

    <!-- Storage -->
    <div class="form-group">
      <label for="storage">Storage</label>
      <select id="storage" formControlName="storage">
        <option value="">Select storage method</option>
        <option value="Dry">Dry</option>
        <option value="Refrigerated">Refrigerated</option>
        <option value="Frozen">Frozen</option>
      </select>
      @if (foodForm.get('storage')?.touched && foodForm.get('storage')?.invalid) {
        <small class="error">Storage type is required</small>
      }
    </div>

    <!-- Buttons -->
    <div class="form-buttons">
      <button type="submit" class="btn-primary" [disabled]="foodForm.invalid">Update</button>
      <button type="button" class="btn-secondary" (click)="cancel()">Cancel</button>
    </div>

  </form>
  </main>
</div>
