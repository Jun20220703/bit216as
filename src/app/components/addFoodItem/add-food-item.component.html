<div class="container">
  <!-- サイドバー -->
  <app-sidebar></app-sidebar>

  <!-- メインコンテンツ -->
  <main class="content">
    <h1>Add Food Item</h1>

    <form [formGroup]="foodForm" (ngSubmit)="saveFood()" class="food-form">
      <div class="form-group">
        <label for="name">Item Name</label>
        <input id="name" type="text" formControlName="name" placeholder="Enter food name" />
        <div class="error">
          @if (foodForm.get('name')?.touched && foodForm.get('name')?.invalid) {
          Item name is required
          }
        </div>
      </div>

      <div class="form-group">
        <label for="qty">Quantity</label>
        <input id="qty" type="text" formControlName="qty" placeholder="e.g. 2kg, 5pcs" />
        <div class="error">
          @if (foodForm.get('qty')?.touched && foodForm.get('qty')?.invalid){
            Quantity is required
          }
        </div>
      </div>

      <div class="form-group">
        <label for="expiry">Expiry Date</label>
        <input id="expiry" type="date" formControlName="expiry" />
        <div class="error">
          @if (foodForm.get('expiry')?.touched && foodForm.get('expiry')?.invalid){
          Expiry date is required
          }
        </div>
      </div>

      <div class="form-group">
        <label for="category">Category</label>
        <select id="category" formControlName="category">
          <option value="">-- Select Category --</option>
          <option>Dairy</option>
          <option>Grain</option>
          <option>Meat</option>
          <option>Vegetables</option>
          <option>Fruits</option>
          <option>Others</option>
        </select>
        <div class="error">
          @if (foodForm.get('category')?.touched && foodForm.get('category')?.invalid){
          Category is required
          }
        </div>
      </div>

      <div class="form-group">
        <label for="storage">Storage Location</label>
        <select id="storage" formControlName="storage">
          <option value="">-- Select Storage --</option>
          <option>Fridge</option>
          <option>Freezer</option>
          <option>Pantry</option>
          <option>Others</option>
        </select>
        <div class="error">
          @if (foodForm.get('storage')?.touched && foodForm.get('storage')?.invalid){
          Storage location is required
          }
        </div>
      </div>

      <div class="form-group">
        <label for="notes">Notes (Optional)</label>
        <textarea id="notes" formControlName="notes" placeholder="Additional info..."></textarea>
      </div>

      <div class="form-actions">
        <button type="submit" class="btn-primary" [disabled]="foodForm.invalid">Save</button>
        <button type="button" class="btn-secondary" (click)="cancel()">Cancel</button>
      </div>
    </form>
  </main>
</div>
